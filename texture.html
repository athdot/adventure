
<body>
<img src="data:image/png;base64,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" id="image" style="display:none;" />
<img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwXExQaFRERGCEYGh0dHx8fExciJCIeJBweHx7/2wBDAQUFBQcGBw4ICA4eFBEUHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh7/wAARCAE2ATYDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAf/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCgAUhAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH/2Q==" id="sky" style="display:none;" />
	<script src="blocks/dirt.js"></script>
	<script>
    setTimeout(function(){
//We have the image, now lets make the canvas display the image
var pxsize = 64;
var image = document.getElementById("image");
var readercanvas = document.createElement("canvas");
var readctx = readercanvas.getContext("2d");
readercanvas.id = "readme";
readercanvas.width = image.width;
readercanvas.height = image.height;
readercanvas.style = "display:none;"
readctx.drawImage(image,0,0);
document.body.appendChild(readercanvas);
//There is the readable heightmap, here is the finished product
var texturecanvas = document.createElement("canvas");
var textctx = texturecanvas.getContext("2d");
texturecanvas.id = "texture";
texturecanvas.style = "border: 1px solid;"
texturecanvas.width = readercanvas.width*pxsize;
texturecanvas.height = readercanvas.height*pxsize;
document.body.appendChild(texturecanvas);
//End
//now for the reader
{
	var x = 0;
  var y = 0;
  var width = readercanvas.width;
  var height = readercanvas.height;
  while(x < width){
  	while(y < height){
    	data = readctx.getImageData(x,y, 1, 1).data;
     	var data = data.toString();
      if(data === "0,255,0,255"){
      	//Code for filling in square on bigger image =)
      	var texturex = x*pxsize;
        var texturey = y*pxsize;
      	var canvas = document.getElementById("texture");
        var context = canvas.getContext("2d");
        var supdirt = Math.floor((Math.random() * 5) + 1);
        var dirt = document.getElementById("dirt"+supdirt);
        context.drawImage(dirt,texturex,texturey,pxsize,pxsize)
      }else{
	       	//Code for filling in square on bigger image =)
      	var texturex = x*pxsize;
        var texturey = y*pxsize;
      	var canvas = document.getElementById("texture");
        var context = canvas.getContext("2d");
        var dirt = document.getElementById("sky");
        context.drawImage(dirt,texturex,texturey,pxsize,pxsize)     
      }
      var y = y+1;
    }
    var y = 0;
    var x = x+1;
  }
}
},1);
</script>
</body>
