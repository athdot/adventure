
<body>
<img src="data:image/png;base64,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" id="image" style="display:none;" />
<img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwXExQaFRERGCEYGh0dHx8fExciJCIeJBweHx7/2wBDAQUFBQcGBw4ICA4eFBEUHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh7/wAARCAE2ATYDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAf/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCgAUhAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH/2Q==" id="sky" style="display:none;" />
	<script src="blocks/dirt.js"></script>
	<script>
    setTimeout(function(){
//We have the image, now lets make the canvas display the image
var pxsize = 64;
var image = document.getElementById("image");
var readercanvas = document.createElement("canvas");
var readctx = readercanvas.getContext("2d");
readercanvas.id = "readme";
readercanvas.width = image.width;
readercanvas.height = image.height;
readercanvas.style = "display:none;"
readctx.drawImage(image,0,0);
document.body.appendChild(readercanvas);
//There is the readable heightmap, here is the finished product
var texturecanvas = document.createElement("canvas");
var textctx = texturecanvas.getContext("2d");
texturecanvas.id = "texture";
texturecanvas.style = "border: 1px solid;"
texturecanvas.width = readercanvas.width*pxsize;
texturecanvas.height = readercanvas.height*pxsize;
document.body.appendChild(texturecanvas);
//End
//now for the reader
{
	var x = 0;
  var y = 0;
  var width = readercanvas.width;
  var height = readercanvas.height;
  while(x < width){
  	while(y < height){
    	data = readctx.getImageData(x,y, 1, 1).data;
     	var data = data.toString();
      if(data === "0,255,0,255"){
      	//Code for filling in square on bigger image =)
      	var texturex = x*pxsize;
        var texturey = y*pxsize;
      	var canvas = document.getElementById("texture");
        var context = canvas.getContext("2d");
        var supdirt = Math.floor((Math.random() * 5) + 1);
        var dirt = document.getElementById("dirt"+supdirt);
        context.drawImage(dirt,texturex,texturey,pxsize,pxsize)
      }else{
	       	//Code for filling in square on bigger image =)
      	var texturex = x*pxsize;
        var texturey = y*pxsize;
      	var canvas = document.getElementById("texture");
        var context = canvas.getContext("2d");
        var dirt = document.getElementById("sky");
        context.drawImage(dirt,texturex,texturey,pxsize,pxsize)     
      }
      var y = y+1;
    }
    var y = 0;
    var x = x+1;
  }
}
},1);
</script>
</body>
