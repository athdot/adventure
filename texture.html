
<body>
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAACWCAYAAABkW7XSAAAGs0lEQVR4Xu3c23LbRhREUfn/P9opVcwKwgKIC0/TanL5KbHIg8Ga0TZ1/fXlDwECBEoEfpWs0zIJECDwJVgOAQECNQKCVbNVFkqAgGA5AwQI1AgIVs1WWSgBAoLlDBAgUCMgWDVbZaEECAiWM0CAQI2AYNVslYUSICBYzgABAjUCglWzVRZKgIBgOQMECNQICFbNVlkoAQKC5QwQIFAjIFg1W2WhBAgIljNAgECNgGDVbJWFEiAgWM4AAQI1AoJVs1UWSoCAYDkDBAjUCAhWzVZZKAECguUMECBQIyBYNVtloQQICJYzQIBAjYBg1WyVhRIgIFjOAAECNQKCVbNVFkqAgGA5AwQI1AgIVs1WWSgBAoLlDBAgUCMgWDVbZaEECAiWM0CAQI2AYNVslYUSICBYzgABAjUCglWzVRZKgIBgOQMECNQICFbNVlkoAQKC5QwQIFAjIFg1W2WhBAgIljNAgECNgGDVbJWFEiAgWM4AAQI1AoJVs1UWSoCAYDkDBAjUCAhWzVZZKAECguUMECBQIyBYNVtloQQICJYzQIBAjYBg1WyVhRIgIFjOAAECNQKCVbNVFkqAgGA5AwQI1AgIVs1WWSgBAoLlDBAgUCMgWDVbZaEECAiWM0CAQI2AYNVslYUSICBYzgABAjUCglWzVRZKgIBgOQMECNQICFbNVlkoAQKC5QwQIFAjIFg1W2WhBAgIljNAgECNgGDVbJWFEiAgWM4AAQI1Aq8J1u+v31+/vl5zrRp6CyVA4KzATES+g/T95ztKy//+/rvb/9/evlzh/WPPrv7o4++D+arrHl3fT3jc1j8q/rH5CbtjDX8EjgXr0WE+S3l7pbUM2XLG1Cux25q3rnO75lpkz97TfbDP3kMyCkuH270u17fms7VHZ+/rrKPHE9gR2A/W/YFevoOneNfesdautfbqbS9Qe2s++075bHjXfPfWeOTtzzpsXWO5N16pHtkJjxkUeBys1KE/cwNb7yDJtd2/AtkK6N4a1uJ35pXfUadHH4YfnfHs486G/tnref5HCmwHa++d8SO5Ltz03odfj0Y+CufR8F1Y8uWnPIrW1iv1+3+QhO8y/yc8cT1YYvVz9v4VH4In7nbvc5VHQp383F7ins2MC/w/WEIVB3eBiwJeeV2Ee6+n/fdtCO91X+7mHQVE6x139dQ9CdYpLg/+EQLC9SO24W8sQrD+hrprzggI14xj0RTBKtosS10REK2POhaC9VHb/aY3e+TbKV4ZNl/djB00wYrRGvxSgbXv53r0UwRb32x7JWzP/rTDS6G6LyZY3ftn9QmB+2ht/azokW8DuhLAxD29yUzBepONdBsBgcQ37QrYUxslWE/xeTKBCwKidQHt36cI1mU6TyTwhMDR30jyxCXqn7r84sWfD78Fq35X3UC9wNrnzI7+xpBHN5/6auXarxXau9bRt+/8UL9g1Z92N/AWAmufL9v6HNryB8u3Prxc+11xN6i9eOxFcPn2R5/n23vb95wjX7hYXE+w3uK0u4mPF9j7NUZH4rGFeDIqyb0QrKSu2QReKfDMVzXvn/vMrOA9C1YQ12gCBGYFBGvW0zQCBIICghXENZoAgVkBwZr1NI0AgaCAYAVxjSZAYFZAsGY9TSNAICggWEFcowkQmBUQrFlP0wgQCAoIVhDXaAIEZgUEa9bTNAIEggKCFcQ1mgCBWQHBmvU0jQCBoIBgBXGNJkBgVkCwZj1NI0AgKCBYQVyjCRCYFRCsWU/TCBAICghWENdoAgRmBQRr1tM0AgSCAoIVxDWaAIFZAcGa9TSNAIGggGAFcY0mQGBWQLBmPU0jQCAoIFhBXKMJEJgVEKxZT9MIEAgKCFYQ12gCBGYFBGvW0zQCBIICghXENZoAgVkBwZr1NI0AgaCAYAVxjSZAYFZAsGY9TSNAICggWEFcowkQmBUQrFlP0wgQCAoIVhDXaAIEZgUEa9bTNAIEggKCFcQ1mgCBWQHBmvU0jQCBoIBgBXGNJkBgVkCwZj1NI0AgKCBYQVyjCRCYFRCsWU/TCBAICghWENdoAgRmBQRr1tM0AgSCAoIVxDWaAIFZAcGa9TSNAIGggGAFcY0mQGBWQLBmPU0jQCAoIFhBXKMJEJgVEKxZT9MIEAgKCFYQ12gCBGYFBGvW0zQCBIICghXENZoAgVkBwZr1NI0AgaCAYAVxjSZAYFZAsGY9TSNAICggWEFcowkQmBUQrFlP0wgQCAoIVhDXaAIEZgUEa9bTNAIEggKCFcQ1mgCBWQHBmvU0jQCBoIBgBXGNJkBgVuAfGRpcIhxJhNQAAAAASUVORK5CYII=" id="image" style="display:none;" />
<img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwXExQaFRERGCEYGh0dHx8fExciJCIeJBweHx7/2wBDAQUFBQcGBw4ICA4eFBEUHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh7/wAARCAE2ATYDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAf/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCgAUhAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH/2Q==" id="sky" style="display:none;" />
	<script src="blocks/dirt.js"></script>
	<script>
    setTimeout(function(){
//We have the image, now lets make the canvas display the image
var pxsize = 64;
var image = document.getElementById("image");
var readercanvas = document.createElement("canvas");
var readctx = readercanvas.getContext("2d");
readercanvas.id = "readme";
readercanvas.width = image.width;
readercanvas.height = image.height;
readercanvas.style = "display:none;"
readctx.drawImage(image,0,0);
document.body.appendChild(readercanvas);
//There is the readable heightmap, here is the finished product
var texturecanvas = document.createElement("canvas");
var textctx = texturecanvas.getContext("2d");
texturecanvas.id = "texture";
texturecanvas.style = "border: 1px solid;"
texturecanvas.width = readercanvas.width*pxsize;
texturecanvas.height = readercanvas.height*pxsize;
document.body.appendChild(texturecanvas);
//End
//now for the reader
{
	var x = 0;
  var y = 0;
  var width = readercanvas.width;
  var height = readercanvas.height;
  while(x < width){
  	while(y < height){
    	data = readctx.getImageData(x,y, 1, 1).data;
     	var data = data.toString();
      if(data === "0,255,0,255"){
      	//Code for filling in square on bigger image =)
      	var texturex = x*pxsize;
        var texturey = y*pxsize;
      	var canvas = document.getElementById("texture");
        var context = canvas.getContext("2d");
        var supdirt = Math.floor((Math.random() * 5) + 1);
        var dirt = document.getElementById("dirt"+supdirt);
        context.drawImage(dirt,texturex,texturey,pxsize,pxsize)
      }else{
	       	//Code for filling in square on bigger image =)
      	var texturex = x*pxsize;
        var texturey = y*pxsize;
      	var canvas = document.getElementById("texture");
        var context = canvas.getContext("2d");
        var dirt = document.getElementById("sky");
        context.drawImage(dirt,texturex,texturey,pxsize,pxsize)     
      }
      var y = y+1;
    }
    var y = 0;
    var x = x+1;
  }
}
},1);
</script>
</body>
