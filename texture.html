
<body>
<img src="data:image/png;base64,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" id="image" style="display:none;" />
<img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwXExQaFRERGCEYGh0dHx8fExciJCIeJBweHx7/2wBDAQUFBQcGBw4ICA4eFBEUHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh7/wAARCAE2ATYDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAf/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCgAUhAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH/2Q==" id="sky" style="display:none;" />
	<script src="blocks/dirt.js"></script>
	<script src="blocks/stone.js"></script>
	<script>
    setTimeout(function(){
//We have the image, now lets make the canvas display the image
var pxsize = 32;
var image = document.getElementById("image");
var readercanvas = document.createElement("canvas");
var readctx = readercanvas.getContext("2d");
readercanvas.id = "readme";
readercanvas.width = image.width;
readercanvas.height = image.height;
readercanvas.style = "display:none;"
readctx.drawImage(image,0,0);
document.body.appendChild(readercanvas);
//There is the readable heightmap, here is the finished product
var texturecanvas = document.createElement("canvas");
var textctx = texturecanvas.getContext("2d");
texturecanvas.id = "texture";
texturecanvas.style = "border: 1px solid; position:fixed;"
texturecanvas.width = readercanvas.width*pxsize;
texturecanvas.height = readercanvas.height*pxsize;
document.body.appendChild(texturecanvas);
//End
//now for the reader
{
	var x = 0;
  var y = 0;
  var width = readercanvas.width;
  var height = readercanvas.height;
  while(x < width){
  	while(y < height){
    	data = readctx.getImageData(x,y, 1, 1).data;
     	var data = data.toString();
      if(data === "0,255,0,255"){
      	//Code for filling in square on bigger image =)
      	var texturex = x*pxsize;
        var texturey = y*pxsize;
      	var canvas = document.getElementById("texture");
        var context = canvas.getContext("2d");
        var supdirt = Math.floor((Math.random() * 5) + 1);
        var dirt = document.getElementById("dirt"+supdirt);
        context.drawImage(dirt,texturex,texturey,pxsize,pxsize)
      }else if(data === "100,100,100,255"){
      	var texturex = x*pxsize;
        var texturey = y*pxsize;
      	var canvas = document.getElementById("texture");
        var context = canvas.getContext("2d");
        var supdirt = Math.floor((Math.random() * 5) + 1);
        var dirt = document.getElementById("stone"+supdirt);
        context.drawImage(dirt,texturex,texturey,pxsize,pxsize) 
      }else{
	       	//Code for filling in square on bigger image =)
      	var texturex = x*pxsize;
        var texturey = y*pxsize;
      	var canvas = document.getElementById("texture");
        var context = canvas.getContext("2d");
        var dirt = document.getElementById("sky");
        context.drawImage(dirt,texturex,texturey,pxsize,pxsize)     
      }
      var y = y+1;
    }
    var y = 0;
    var x = x+1;
  }
}
	    var dataurl = canvas.toDataURL();
	    window.location = dataurl;
},1);
</script>
</body>
